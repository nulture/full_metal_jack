[gd_scene load_steps=29 format=3 uid="uid://c1aiimxh63ws2"]

[ext_resource type="Script" path="res://assets/scripts/wave_controller.gd" id="1_8vdcl"]
[ext_resource type="PackedScene" uid="uid://dxn1ecuhl0csi" path="res://assets/prefabs/fmj_level_mesh.tscn" id="1_mdv7l"]
[ext_resource type="Material" uid="uid://by4taq5k1mgye" path="res://assets/models/level_meshes/sand_floor_material.tres" id="1_nij4t"]
[ext_resource type="Script" path="res://assets/scripts/wave.gd" id="2_ywm6p"]
[ext_resource type="Script" path="res://assets/scripts/wave_timed_env.gd" id="3_3py3g"]
[ext_resource type="Script" path="res://assets/scripts/wave_timed_sun.gd" id="3_j0by0"]
[ext_resource type="PackedScene" uid="uid://clq3nof8vclwo" path="res://assets/scenes/enemies/stinker.tscn" id="3_tchhd"]
[ext_resource type="FontFile" uid="uid://32ok5fg5bub" path="res://assets/fonts/Danfo-Regular.ttf" id="4_2y70v"]
[ext_resource type="Script" path="res://assets/scripts/wave_clock_label.gd" id="4_eftfn"]
[ext_resource type="PackedScene" uid="uid://b65ambxvqs4de" path="res://assets/scenes/enemies/smokey.tscn" id="4_v7yft"]
[ext_resource type="PackedScene" uid="uid://c414vt4mwkrah" path="res://assets/scenes/bell.tscn" id="11_wuec8"]

[sub_resource type="Resource" id="Resource_n45ke"]
script = ExtResource("2_ywm6p")
scenes = {
ExtResource("3_tchhd"): 1
}
crates = 0
duration = 15.0

[sub_resource type="Resource" id="Resource_ag0u4"]
script = ExtResource("2_ywm6p")
scenes = {
ExtResource("3_tchhd"): 3
}
crates = 0
duration = 15.0

[sub_resource type="Resource" id="Resource_5b0ha"]
script = ExtResource("2_ywm6p")
scenes = {
ExtResource("4_v7yft"): 1,
ExtResource("3_tchhd"): 2
}
crates = 0
duration = 30.0

[sub_resource type="Resource" id="Resource_cnsst"]
script = ExtResource("2_ywm6p")
scenes = {}
crates = 0
duration = 15.0

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_67aro"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_cdym1"]
sky_material = SubResource("ProceduralSkyMaterial_67aro")

[sub_resource type="Environment" id="Environment_od2qt"]
background_mode = 2
sky = SubResource("Sky_cdym1")
tonemap_mode = 2

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_t7sqf"]

[sub_resource type="LabelSettings" id="LabelSettings_kv482"]
font = ExtResource("4_2y70v")
font_size = 48
outline_size = 20
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_5t3y8"]
font = ExtResource("4_2y70v")
font_size = 36
font_color = Color(1, 0.16, 0.258, 1)
outline_size = 18
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_0jbu8"]
resource_name = "RESET"
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("wave_clock/name_label_stuff:scale:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.33, -0.0005, 0, 0.0005, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("wave_clock/name_label_stuff:scale:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.33, -0.0005, 0, 0.0005, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("wave_clock:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(32, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("wave_clock:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(32, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("wave_clock:anchors_preset")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("wave_clock/name_label_stuff/texture_rect:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("wave_clock/wave_timer:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_urx5m"]
resource_name = "notify_clock"
length = 3.1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("wave_clock/name_label_stuff:scale:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0.33, -0.0222222, 0, 0.144444, 0, 0.33, -0.0222222, 0, 0.144444, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 0.33, -0.0222222, 0, 0.144444, 0, 0.33, -0.0222222, 0, 0.144444, 0),
"times": PackedFloat32Array(0, 0.0666667, 0.566667, 2.53333, 3.03333, 3.1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("wave_clock/name_label_stuff:scale:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0.33, -0.0222222, 0, 0.144444, 0, 0.33, -0.0222222, 0, 0.144444, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 0.33, -0.0222222, 0, 0.144444, 0, 0.33, -0.0222222, 0, 0.144444, 0),
"times": PackedFloat32Array(0, 0.0666667, 0.566667, 2.53333, 3.03333, 3.1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("wave_clock:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(32, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0, 421, -0.25, 0, 0.25, 0, 421, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.0666667, 0.566667, 2.53333, 3.03333, 3.1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("wave_clock:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(32, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0, 307, -0.25, 0, 0.25, 0, 307, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0, 32, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.0666667, 0.566667, 2.53333, 3.03333, 3.1)
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("wave_clock:anchors_preset")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.0666667, 3.03333, 3.1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 8, 8, 0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("wave_clock/name_label_stuff/texture_rect:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.0666667, 0.4, 2.73333, 3.03333),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0.12549), Color(1, 1, 1, 0.12549), Color(1, 1, 1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("wave_clock/wave_timer:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0.5, 0.766667, 0.9, 1.16667, 1.3, 1.56667, 1.7, 1.96667, 2.1, 2.36667, 2.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [true, false, true, false, true, false, true, false, true, false, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_u1ohm"]
_data = {
"RESET": SubResource("Animation_0jbu8"),
"notify_clock": SubResource("Animation_urx5m")
}

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xyfmq"]
height = 10.0
radius = 19.0

[sub_resource type="NavigationMesh" id="NavigationMesh_8rbwc"]
vertices = PackedVector3Array(-22.7322, 0.15, -26.25, -22.7322, 0.15, -15.65, -4.3322, 0.15, -26.15, 20.7678, 0.15, -16.65, 22.7678, 0.15, -15.65, 22.7678, 0.15, -26.25, 4.3678, 0.15, -26.25, 0.167797, 0.15, -25.25, -0.532204, 0.15, -25.05, -1.5322, 0.15, -24.35, 3.9678, 0.15, -22.95, 3.1678, 0.15, -17.55, 3.6678, 0.15, -17.45, -0.932203, 0.15, -14.15, 2.4678, 0.15, -17.15, -3.3322, 0.15, -23.35, -2.6322, 0.15, -12.65, -4.0322, 0.15, -22.95, -3.8322, 0.15, -11.65, -5.5322, 0.15, -22.05, -4.9322, 0.15, -10.65, 4.0678, 0.15, -17.15, 7.4678, 0.15, -20.95, -12.9322, 0.15, -17.75, -12.6322, 0.15, -14.95, -12.2322, 0.15, -15.05, -10.7322, 0.15, -14.15, -10.5322, 0.15, -12.25, -10.7322, 0.15, -11.95, -6.7322, 0.15, -9.05, -10.5322, 0.15, -13.75, 6.8678, 0.15, -6.85, 10.2678, 0.15, -3.35, 11.4678, 0.15, -4.45, 4.8678, 0.15, -16.35, 5.1678, 0.15, -15.75, 4.8678, 0.15, -14.85, 12.1678, 0.15, -18.25, 5.8678, 0.15, -6.85, 6.1678, 0.15, -7.05, 13.6678, 0.15, -17.35, -14.9322, 0.15, -16.65, -13.9322, 0.15, -14.05, -13.6322, 0.15, -14.45, 13.9678, 0.15, 0.35, 21.8678, 0.15, 0.950001, 14.1678, 0.15, 0.950001, 21.8678, 0.15, -12.65, -14.1322, 0.15, -13.75, -14.1322, 0.15, -12.25, -21.9322, 0.15, -12.65, -21.9322, 0.15, -5.65, -17.8322, 0.15, -5.65, -17.4322, 0.15, -6.55, -15.9322, 0.15, -7.35, -15.2322, 0.15, -7.15, -13.9322, 0.15, -11.95, 4.2678, 0.15, -5.85, 4.5678, 0.15, -5.55, 3.6678, 0.15, -13.85, -0.132204, 0.15, -10.55, -12.5322, 9.4, -13.25, -12.5322, 9.4, -12.75, -12.1322, 9.4, -12.85, -12.2322, 9.4, -13.35, -12.4322, 0.4, -13.15, -12.4322, 0.4, -12.85, -12.2322, 0.4, -12.95, -12.2322, 0.4, -13.15, -15.0322, 0.15, -6.95, -13.4322, 0.15, -11.55, -7.5322, 0.15, -4.95, -6.4322, 0.15, -6.05, -7.7322, 0.15, -7.55, -12.5322, 0.15, -11.05, -7.5322, 0.15, -8.35, -12.1322, 0.15, -11.05, -13.7322, 0.15, -4.65, 4.3678, 0.15, -5.25, -6.1322, 0.15, -5.85, -5.2322, 0.15, -6.05, -9.4322, 0.15, 3.45, 4.5678, 0.15, -4.55, -12.6322, 0.15, -2.55, 11.7678, 0.15, 2.65, -21.9322, 0.15, 12.65, -15.7322, 0.15, 16.15, -11.6322, 0.15, 6.05, -16.0322, 2.4, -5.55, -16.0322, 2.4, -5.25, -15.8322, 2.4, -5.15, 7.4678, 2.4, -3.75, 9.0678, 2.4, -2.25, 9.0678, 2.4, -2.45, 7.4678, 2.4, -3.95, 12.8678, 0.15, 2.65, 12.3678, 0.15, 2.85, 12.4678, 0.15, 8.05, 14.0678, 0.15, 8.75, 13.9678, 0.15, 1.55, 14.3678, 0.15, 9.25, 14.3678, 0.15, 9.85, 21.8678, 0.15, 9.75, 6.7678, 0.15, 14.05, 10.9678, 0.15, 11.05, 10.7678, 0.15, 10.75, 6.4678, 0.15, 13.85, 10.7678, 0.15, 9.25, 11.0678, 0.15, 8.75, -8.7322, 0.15, 4.65, 5.0678, 0.15, 13.85, -8.9322, 0.15, 5.45, -7.5322, 0.15, 14.25, -10.6322, 0.15, 6.45, -8.1322, 0.15, 14.65, -9.7322, 0.15, 19.65, -8.1322, 0.15, 17.05, -8.3322, 0.15, 16.75, -8.3322, 0.15, 14.95, -11.0322, 0.15, 6.55, 12.3678, 9.4, 9.85, 12.3678, 9.4, 10.25, 12.7678, 9.4, 10.25, 12.6678, 9.4, 9.75, 14.3678, 0.15, 10.75, 14.1678, 0.15, 11.05, 17.1678, 0.15, 15.35, 21.8678, 0.15, 12.65, 12.4678, 0.4, 9.95, 12.4678, 0.4, 10.15, 12.6678, 0.4, 10.15, 12.6678, 0.4, 9.95, 7.1678, 0.15, 16.35, 6.9678, 0.15, 16.65, 8.8678, 0.15, 20.15, 7.1678, 0.15, 14.55, 11.2678, 0.15, 11.45, 13.1678, 0.15, 17.65, 12.3678, 0.15, 12.05, 12.8678, 0.15, 11.95, 13.8678, 0.15, 11.45, -22.7322, 0.15, 15.65, -22.7322, 0.15, 26.25, -4.3322, 0.15, 26.25, 4.3678, 0.15, 26.15, 22.7678, 0.15, 26.25, 22.7678, 0.15, 15.65, 6.7678, 0.15, 16.85, 7.1678, 0.15, 21.15, 6.4678, 0.15, 17.05, 5.3678, 0.15, 17.15, -0.132204, 0.15, 25.25, 0.167797, 0.15, 25.25, -7.7322, 0.15, 17.35, -8.0322, 0.15, 20.65)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(11, 10, 12), PackedInt32Array(10, 14, 9), PackedInt32Array(9, 14, 13), PackedInt32Array(10, 11, 14), PackedInt32Array(9, 13, 15), PackedInt32Array(15, 13, 16), PackedInt32Array(15, 16, 17), PackedInt32Array(17, 16, 18), PackedInt32Array(20, 19, 18), PackedInt32Array(18, 19, 17), PackedInt32Array(21, 12, 22), PackedInt32Array(22, 12, 10), PackedInt32Array(23, 25, 24), PackedInt32Array(26, 25, 23), PackedInt32Array(29, 28, 27), PackedInt32Array(27, 30, 29), PackedInt32Array(29, 30, 20), PackedInt32Array(26, 23, 20), PackedInt32Array(20, 23, 19), PackedInt32Array(20, 30, 26), PackedInt32Array(33, 32, 31), PackedInt32Array(34, 21, 22), PackedInt32Array(35, 34, 22), PackedInt32Array(35, 22, 36), PackedInt32Array(36, 22, 37), PackedInt32Array(39, 38, 36), PackedInt32Array(31, 36, 33), PackedInt32Array(33, 36, 37), PackedInt32Array(31, 39, 36), PackedInt32Array(37, 40, 33), PackedInt32Array(43, 42, 41), PackedInt32Array(43, 41, 24), PackedInt32Array(24, 41, 23), PackedInt32Array(32, 33, 44), PackedInt32Array(44, 33, 45), PackedInt32Array(45, 46, 44), PackedInt32Array(40, 47, 33), PackedInt32Array(33, 47, 45), PackedInt32Array(41, 42, 48), PackedInt32Array(48, 49, 41), PackedInt32Array(41, 49, 50), PackedInt32Array(51, 53, 52), PackedInt32Array(56, 55, 49), PackedInt32Array(49, 55, 54), PackedInt32Array(49, 54, 50), PackedInt32Array(50, 54, 51), PackedInt32Array(54, 53, 51), PackedInt32Array(38, 58, 57), PackedInt32Array(36, 38, 59), PackedInt32Array(59, 38, 57), PackedInt32Array(60, 59, 57), PackedInt32Array(64, 63, 61), PackedInt32Array(61, 63, 62), PackedInt32Array(68, 67, 65), PackedInt32Array(65, 67, 66), PackedInt32Array(69, 55, 70), PackedInt32Array(70, 55, 56), PackedInt32Array(73, 72, 71), PackedInt32Array(69, 70, 74), PackedInt32Array(28, 29, 75), PackedInt32Array(74, 76, 69), PackedInt32Array(69, 76, 77), PackedInt32Array(75, 73, 28), PackedInt32Array(28, 73, 76), PackedInt32Array(71, 77, 73), PackedInt32Array(73, 77, 76), PackedInt32Array(57, 58, 78), PackedInt32Array(71, 72, 79), PackedInt32Array(79, 80, 71), PackedInt32Array(71, 80, 81), PackedInt32Array(60, 57, 78), PackedInt32Array(78, 82, 60), PackedInt32Array(60, 82, 80), PackedInt32Array(81, 83, 71), PackedInt32Array(80, 82, 81), PackedInt32Array(81, 82, 84), PackedInt32Array(87, 86, 85), PackedInt32Array(52, 87, 51), PackedInt32Array(51, 87, 85), PackedInt32Array(90, 89, 88), PackedInt32Array(71, 83, 77), PackedInt32Array(94, 93, 91), PackedInt32Array(91, 93, 92), PackedInt32Array(96, 95, 97), PackedInt32Array(97, 95, 98), PackedInt32Array(99, 46, 45), PackedInt32Array(98, 95, 100), PackedInt32Array(100, 95, 99), PackedInt32Array(102, 101, 100), PackedInt32Array(100, 99, 102), PackedInt32Array(102, 99, 45), PackedInt32Array(103, 105, 104), PackedInt32Array(103, 106, 105), PackedInt32Array(105, 106, 107), PackedInt32Array(96, 97, 84), PackedInt32Array(84, 97, 108), PackedInt32Array(109, 81, 110), PackedInt32Array(110, 81, 84), PackedInt32Array(111, 109, 112), PackedInt32Array(112, 109, 110), PackedInt32Array(107, 84, 108), PackedInt32Array(106, 110, 107), PackedInt32Array(107, 110, 84), PackedInt32Array(114, 113, 112), PackedInt32Array(112, 113, 111), PackedInt32Array(115, 117, 116), PackedInt32Array(117, 115, 118), PackedInt32Array(118, 115, 86), PackedInt32Array(119, 114, 87), PackedInt32Array(87, 114, 86), PackedInt32Array(114, 118, 86), PackedInt32Array(119, 113, 114), PackedInt32Array(120, 123, 121), PackedInt32Array(121, 123, 122), PackedInt32Array(124, 126, 125), PackedInt32Array(126, 124, 101), PackedInt32Array(127, 126, 102), PackedInt32Array(102, 126, 101), PackedInt32Array(131, 130, 128), PackedInt32Array(128, 130, 129), PackedInt32Array(134, 133, 132), PackedInt32Array(136, 135, 104), PackedInt32Array(104, 135, 103), PackedInt32Array(134, 135, 137), PackedInt32Array(137, 135, 138), PackedInt32Array(138, 139, 137), PackedInt32Array(135, 136, 138), PackedInt32Array(134, 132, 135), PackedInt32Array(140, 125, 126), PackedInt32Array(140, 126, 139), PackedInt32Array(139, 126, 137), PackedInt32Array(143, 142, 141), PackedInt32Array(146, 145, 144), PackedInt32Array(133, 134, 147), PackedInt32Array(147, 134, 148), PackedInt32Array(149, 147, 148), PackedInt32Array(150, 149, 148), PackedInt32Array(152, 151, 148), PackedInt32Array(148, 151, 150), PackedInt32Array(154, 153, 151), PackedInt32Array(151, 153, 150), PackedInt32Array(116, 153, 115), PackedInt32Array(115, 153, 154)]
geometry_parsed_geometry_type = 1
cell_size = 0.1
agent_radius = 0.75
region_merge_size = 5.0
vertices_per_polygon = 4.0

[sub_resource type="BoxShape3D" id="BoxShape3D_sgkqy"]
size = Vector3(47, 2, 54)

[sub_resource type="PlaneMesh" id="PlaneMesh_yl8hx"]
material = ExtResource("1_nij4t")
size = Vector2(100, 100)

[node name="arena" type="Node3D" node_paths=PackedStringArray("spawn_origin", "nav_region", "timer", "bell", "ui_anim_player", "time_label")]
script = ExtResource("1_8vdcl")
predefined_waves = Array[ExtResource("2_ywm6p")]([SubResource("Resource_n45ke"), SubResource("Resource_ag0u4"), SubResource("Resource_5b0ha"), SubResource("Resource_cnsst")])
spawn_origin = NodePath("wave_spawner")
nav_region = NodePath("nav_region")
timer = NodePath("wave_spawner/timer")
bell = NodePath("bell")
ui_anim_player = NodePath("wave_spawner/canvas_layer/ui/animation_player")
time_label = NodePath("wave_spawner/canvas_layer/ui/wave_clock/wave_timer/wave_timer_label")

[node name="environment" type="WorldEnvironment" parent="." groups=["wave_timed"]]
environment = SubResource("Environment_od2qt")
script = ExtResource("3_3py3g")
alpha_time = 5.0
wave_values = [{
"background_energy_multiplier": 1.0
}, {
"background_energy_multiplier": 0.1
}, {
"background_energy_multiplier": 0.6
}, {
"background_energy_multiplier": 0.05
}, {
"background_energy_multiplier": 0.2
}, {
"background_energy_multiplier": 0.9
}, {
"background_energy_multiplier": 0.4
}, {
"background_energy_multiplier": 1.25
}]

[node name="sun" type="DirectionalLight3D" parent="." groups=["wave_timed"]]
transform = Transform3D(0.889744, 0.402093, 0.216051, 1.47522e-06, -0.473321, 0.88089, 0.456461, -0.783766, -0.421134, 0, 0, 0)
rotation_edit_mode = 1
light_color = Color(0.9855, 1, 0.97, 1)
light_energy = 0.8
shadow_enabled = true
script = ExtResource("3_j0by0")
alpha_time = 5.0
wave_values = [{
"color": Color(0.9855, 1, 0.97, 1),
"energy": 0.8,
"quat": Quaternion(0.834296, 0.120489, 0.201521, -0.498821)
}, {
"color": Color(1, 0.408, 0.26, 1),
"energy": 1.5,
"quat": Quaternion(0.934972, 0.0642255, 0.225839, -0.265893)
}, {
"color": Color(1, 0.312, 0.14, 1),
"energy": 0.0,
"quat": Quaternion(0.971932, 0.00358554, 0.234767, -0.0148441)
}, {
"color": Color(1, 0.312, 0.14, 1),
"energy": 0.0,
"quat": Quaternion(0.971932, 0.00358554, 0.234767, -0.0148441)
}, {
"color": Color(1, 0.312, 0.14, 1),
"energy": 0.0,
"quat": Quaternion(-0.00230738, -0.234794, -0.000557336, 0.972042)
}, {
"color": Color(1, 0.67, 0.9395, 1),
"energy": 0.7,
"quat": Quaternion(-0.112145, -0.233227, -0.0270884, 0.965554)
}, {
"color": Color(0.87, 0.887333, 1, 1),
"energy": 1.0,
"quat": Quaternion(-0.473111, -0.205107, -0.114278, 0.84914)
}, {
"color": Color(0.94, 0.992, 1, 1),
"energy": 1.5,
"quat": Quaternion(-0.579898, -0.188436, -0.140072, 0.780122)
}]

[node name="moon" type="DirectionalLight3D" parent="." groups=["wave_timed"]]
transform = Transform3D(0.889744, 0.402093, 0.216051, 1.47522e-06, -0.473321, 0.88089, 0.456461, -0.783766, -0.421134, 0, 0, 0)
rotation_edit_mode = 1
light_color = Color(0.2, 0.6, 1, 1)
light_energy = 0.0
shadow_enabled = true
script = ExtResource("3_j0by0")
alpha_time = 5.0
wave_values = [{
"color": Color(0.2, 0.6, 1, 1),
"energy": 0.0,
"quat": Quaternion(0.834296, 0.120489, 0.201521, -0.498821)
}, {
"color": Color(0.2, 0.6, 1, 1),
"energy": 0.0,
"quat": Quaternion(-0.00158947, 0.464965, 0.0179421, 0.885146)
}, {
"color": Color(0.2, 0.6, 1, 1),
"energy": 0.1,
"quat": Quaternion(-0.320125, 0.427333, 0.184121, 0.825231)
}, {
"color": Color(0.46, 0.937, 1, 1),
"energy": 0.4,
"quat": Quaternion(-0.647333, 0.304629, 0.351732, 0.603693)
}, {
"color": Color(0.09, 1, 0.454, 1),
"energy": 0.2,
"quat": Quaternion(0.826886, -0.149932, -0.440494, -0.315825)
}, {
"color": Color(0.3, 1, 0.37, 1),
"energy": 0.0,
"quat": Quaternion(0.884965, 0.00767286, -0.465248, -0.017952)
}, {
"color": Color(0.87, 0.887333, 1, 1),
"energy": 0.0,
"quat": Quaternion(0.884965, 0.00767286, -0.465248, -0.017952)
}, {
"color": Color(0.94, 0.992, 1, 1),
"energy": 0.0,
"quat": Quaternion(0.884965, 0.00767286, -0.465248, -0.017952)
}]

[node name="wave_spawner" type="Node3D" parent="."]

[node name="timer" type="Timer" parent="wave_spawner"]
wait_time = 10.0
one_shot = true

[node name="canvas_layer" type="CanvasLayer" parent="wave_spawner"]

[node name="ui" type="Control" parent="wave_spawner/canvas_layer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="wave_clock" type="Control" parent="wave_spawner/canvas_layer/ui"]
layout_mode = 1
anchors_preset = 0
offset_right = 106.0
offset_bottom = 106.0
pivot_offset = Vector2(53, 53)

[node name="name_label_stuff" type="Control" parent="wave_spawner/canvas_layer/ui/wave_clock"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -160.0
offset_top = -320.0
offset_right = 160.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.33, 0.33)
pivot_offset = Vector2(160, 320)

[node name="texture_rect" type="TextureRect" parent="wave_spawner/canvas_layer/ui/wave_clock/name_label_stuff"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -128.0
offset_top = -128.0
offset_right = 128.0
offset_bottom = 128.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("PlaceholderTexture2D_t7sqf")

[node name="wave_name_label" type="Label" parent="wave_spawner/canvas_layer/ui/wave_clock/name_label_stuff" groups=["wave_timed"]]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -160.0
offset_top = -63.0
offset_right = 160.0
grow_horizontal = 2
grow_vertical = 0
theme_override_constants/outline_size = 20
text = "Sunset"
label_settings = SubResource("LabelSettings_kv482")
horizontal_alignment = 1
script = ExtResource("4_eftfn")
wave_values = ["Quittin'   Time", "Sunset", "Moonrise", "Dead   of   Night", "Wee   Hours", "Crack   of   Dawn", "Mornin'   Glory", "High   Noon"]
current_hour = 1

[node name="wave_timer" type="Control" parent="wave_spawner/canvas_layer/ui/wave_clock"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
grow_horizontal = 0

[node name="wave_timer_label" type="Label" parent="wave_spawner/canvas_layer/ui/wave_clock/wave_timer"]
layout_mode = 1
offset_right = 98.0
offset_bottom = 47.0
text = "00:24"
label_settings = SubResource("LabelSettings_5t3y8")

[node name="animation_player" type="AnimationPlayer" parent="wave_spawner/canvas_layer/ui"]
libraries = {
"": SubResource("AnimationLibrary_u1ohm")
}

[node name="spawn_area" type="Area3D" parent="."]
monitoring = false
monitorable = false

[node name="collision_shape_3d" type="CollisionShape3D" parent="spawn_area"]
shape = SubResource("CylinderShape3D_xyfmq")

[node name="nav_region" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_8rbwc")

[node name="floor" type="StaticBody3D" parent="nav_region"]

[node name="collision_shape_3d" type="CollisionShape3D" parent="nav_region/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.1, 0)
shape = SubResource("BoxShape3D_sgkqy")

[node name="mesh_instance_3d" type="MeshInstance3D" parent="nav_region/floor"]
transform = Transform3D(0.771891, 0, 0, 0, 1, 0, 0, 0, 0.771891, 0, 0, 0)
mesh = SubResource("PlaneMesh_yl8hx")

[node name="fmj_level_mesh" parent="nav_region" instance=ExtResource("1_mdv7l")]

[node name="bell" parent="." instance=ExtResource("11_wuec8")]

[connection signal="wave_started" from="." to="wave_spawner/canvas_layer/ui/wave_clock/name_label_stuff/wave_name_label" method="set_current_hour"]
[connection signal="bell_rang" from="bell" to="." method="proceed_to_next_wave"]

[editable path="nav_region/fmj_level_mesh"]
