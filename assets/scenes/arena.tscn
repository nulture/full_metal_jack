[gd_scene load_steps=11 format=3 uid="uid://c1aiimxh63ws2"]

[ext_resource type="Script" path="res://assets/scripts/wave_controller.gd" id="1_8vdcl"]
[ext_resource type="PackedScene" uid="uid://dxn1ecuhl0csi" path="res://assets/prefabs/fmj_level_mesh.tscn" id="1_mdv7l"]
[ext_resource type="Script" path="res://assets/scripts/wave.gd" id="2_ywm6p"]
[ext_resource type="PackedScene" uid="uid://clq3nof8vclwo" path="res://assets/scenes/enemies/stinker.tscn" id="3_s3gsa"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_xyfmq"]
height = 10.0
radius = 19.0

[sub_resource type="NavigationMesh" id="NavigationMesh_8rbwc"]
vertices = PackedVector3Array(7.9678, 8.4, -22.95, 1.5678, 8.4, -26.95, -0.432203, 8.4, -27.55, 23.7678, 8.4, -13.95, 22.3678, 8.4, -14.95, -23.8322, 8.4, 13.65, -22.8322, 8.4, 13.25, -22.8322, 8.4, -13.15, -23.8322, 8.4, -13.95, -0.0322037, 8.4, -26.35, 22.7678, 8.4, -13.15, 22.7678, 8.4, 13.25, 23.7678, 8.4, 13.65, -23.4322, 0.4, -26.95, -23.4322, 0.4, -14.55, -2.2322, 0.4, -26.75, -2.2322, 0.4, 26.25, -1.0322, 0.4, 26.85, 1.1678, 0.4, 26.85, -23.4322, 0.4, 13.85, -23.0322, 0.4, 14.25, -19.0322, 0.4, 16.25, 23.3678, 0.4, -13.95, 22.1678, 0.4, -14.75, 7.7678, 0.4, -22.75, 0.367796, 0.4, -26.55, 10.5678, 0.4, -20.35, 19.7678, 0.4, -15.35, -1.2322, 0.4, 26.05, -11.4322, 0.4, 19.85, -20.6322, 0.4, 14.85, -2.2322, 0.4, -25.95, -23.4322, 0.4, -13.95, -23.0322, 0.4, -13.35, -0.232203, 0.4, -26.55, -1.0322, 0.4, -26.95, 1.3678, 0.4, -26.75, 22.9678, 0.4, -13.35, 22.9678, 0.4, 13.25, 23.3678, 0.4, 14.05, 0.367796, 0.4, 26.45, -23.0322, 0.4, 13.25, 2.1678, 0.4, -26.95, 23.3678, 0.4, -14.75, 23.3678, 0.4, -26.95, 4.7678, 0.4, -23.15, 0.167797, 0.4, -25.95, -4.0322, 0.4, -23.55, -3.0322, 0.4, -11.55, 3.3678, 0.4, -16.95, -12.8322, 0.4, -18.35, -12.2322, 0.4, -14.55, -11.0322, 0.4, -13.75, -11.0322, 0.4, -12.55, -6.2322, 0.4, -8.75, 4.5678, 0.4, -15.75, 6.7678, 0.4, -21.95, 12.7678, 0.4, -18.55, 3.9678, 0.4, -14.75, 6.3678, 0.4, -6.55, 10.9678, 0.4, -1.95, 13.5678, 0.4, 0.85, 22.3678, 0.4, 0.85, 22.3678, 0.4, -12.95, -15.4322, 0.4, -16.95, -13.6322, 0.4, -13.55, -13.6322, 0.4, -12.55, -22.4322, 0.4, -5.55, -17.2322, 0.4, -5.55, -16.8322, 0.4, -6.35, -15.8322, 0.4, -6.75, -22.4322, 0.4, -12.95, 4.1678, 2.4, -15.35, 4.1678, 2.4, -15.95, 3.5678, 2.4, -16.55, -6.8322, 2.4, -7.95, -6.8322, 2.4, -7.55, -5.6322, 2.4, -6.75, 2.7678, 2.4, -16.35, -6.4322, 0.4, -7.95, -6.4322, 0.4, -7.55, -5.6322, 0.4, -7.15, 3.9678, 0.4, -15.55, 3.5678, 0.4, -16.15, 2.9678, 0.4, -16.15, -1.2322, 0.4, -10.35, 4.9678, 0.4, -5.15, -11.4322, 9.4, -13.55, -11.8322, 9.4, -13.95, -12.4322, 9.4, -14.15, -13.2322, 9.4, -12.35, -12.4322, 9.4, -11.95, -11.4322, 9.4, -12.35, -13.2322, 9.4, -13.75, -13.0322, 0.4, -12.55, -11.6322, 0.4, -12.55, -12.0322, 0.4, -13.75, -13.0322, 0.4, -13.55, -15.0322, 0.4, -5.95, -13.0322, 0.4, -11.95, -12.2322, 0.4, -11.55, -7.2322, 0.4, -7.55, -13.6322, 0.4, -3.35, -5.8322, 0.4, -6.35, 12.3678, 0.4, 8.65, 12.3678, 0.4, 2.25, 11.9678, 0.4, 2.25, 11.3678, 0.4, 9.25, 6.1678, 0.4, 14.45, 11.3678, 0.4, 10.65, 6.5678, 0.4, -3.15, -9.2322, 0.4, 4.85, -7.4322, 0.4, 14.85, -15.4322, 2.4, -6.15, -16.0322, 2.4, -6.35, -16.8322, 2.4, -5.95, -15.8322, 2.4, -3.35, -11.0322, 2.4, 5.45, -9.6322, 2.4, 5.05, 11.9678, 2.4, 1.85, 12.5678, 2.4, 1.85, 13.1678, 2.4, 1.25, 13.1678, 2.4, 0.65, 6.3678, 2.4, -6.15, 5.3678, 2.4, -5.35, 6.9678, 2.4, -3.15, -10.8322, 0.4, 5.25, -10.0322, 0.4, 4.85, -15.6322, 0.4, -5.95, -16.6322, 0.4, -5.75, 6.3678, 0.4, -5.75, 5.7678, 0.4, -5.35, 7.1678, 0.4, -3.35, 12.1678, 0.4, 1.65, 12.9678, 0.4, 1.05, -8.2322, 0.4, 18.45, -7.4322, 0.4, 16.85, -7.8322, 0.4, 16.65, -7.8322, 0.4, 15.25, -10.4322, 0.4, 19.85, -10.2322, 0.4, 5.65, -10.8322, 0.4, 6.05, -11.2322, 0.4, 5.85, -22.4322, 0.4, 13.05, 13.7678, 0.4, 9.25, 13.5678, 0.4, 1.25, 13.7678, 0.4, 10.45, 22.3678, 0.4, 10.25, 11.7678, 9.4, 10.65, 12.1678, 9.4, 11.05, 13.3678, 9.4, 10.65, 13.3678, 9.4, 9.45, 12.9678, 9.4, 9.05, 11.7678, 9.4, 9.45, 11.9678, 0.4, 9.65, 12.3678, 0.4, 10.85, 13.1678, 0.4, 10.45, 12.7678, 0.4, 9.25, 13.7678, 0.4, 10.65, 17.3678, 0.4, 15.85, 22.3678, 0.4, 13.05, 6.5678, 0.4, 14.65, 6.5678, 0.4, 16.05, 9.3678, 0.4, 20.45, 12.1678, 0.4, 11.45, 13.3678, 0.4, 18.05, 12.9678, 0.4, 11.25, -22.6322, 2.4, 13.25, -23.6322, 2.4, 13.85, -23.2322, 2.4, 14.45, 23.5678, 2.4, 14.25, 23.5678, 2.4, 13.85, 22.3678, 2.4, 13.25, -21.6322, 2.4, 13.65, -0.232203, 2.4, 27.65, 0.367796, 2.4, 27.65, 10.5678, 2.4, 21.45, 2.7678, 2.4, 24.85, -0.232203, 2.4, 26.25, -23.4322, 0.4, 14.65, -23.4322, 0.4, 26.85, -2.4322, 0.4, 26.85, 2.3678, 0.4, 26.65, 23.3678, 0.4, 26.85, 23.3678, 0.4, 14.65, -7.4322, 2.4, 15.25, -7.4322, 2.4, 16.45, 6.1678, 2.4, 16.05, 6.1678, 2.4, 14.85, -7.2322, 0.4, 15.45, -7.2322, 0.4, 16.25, 5.9678, 0.4, 15.85, 5.9678, 0.4, 15.05, 6.1678, 0.4, 16.45, 6.5678, 0.4, 22.05, -8.2322, 0.4, 21.05, -0.232203, 0.4, 25.85)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 4, 3), PackedInt32Array(7, 6, 5), PackedInt32Array(7, 5, 8), PackedInt32Array(7, 8, 2), PackedInt32Array(9, 7, 2), PackedInt32Array(9, 2, 0), PackedInt32Array(10, 9, 0), PackedInt32Array(10, 0, 3), PackedInt32Array(12, 11, 10), PackedInt32Array(3, 12, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(18, 17, 16), PackedInt32Array(21, 20, 19), PackedInt32Array(24, 23, 22), PackedInt32Array(27, 26, 25), PackedInt32Array(30, 29, 28), PackedInt32Array(33, 32, 31), PackedInt32Array(34, 33, 31), PackedInt32Array(34, 31, 35), PackedInt32Array(25, 34, 35), PackedInt32Array(25, 35, 36), PackedInt32Array(25, 36, 24), PackedInt32Array(27, 25, 24), PackedInt32Array(27, 24, 22), PackedInt32Array(37, 27, 22), PackedInt32Array(38, 37, 22), PackedInt32Array(38, 22, 39), PackedInt32Array(38, 39, 18), PackedInt32Array(38, 18, 40), PackedInt32Array(28, 40, 18), PackedInt32Array(28, 18, 16), PackedInt32Array(28, 16, 21), PackedInt32Array(30, 28, 21), PackedInt32Array(30, 21, 19), PackedInt32Array(19, 41, 30), PackedInt32Array(41, 19, 32), PackedInt32Array(33, 41, 32), PackedInt32Array(44, 43, 42), PackedInt32Array(47, 46, 45), PackedInt32Array(47, 49, 48), PackedInt32Array(45, 49, 47), PackedInt32Array(52, 51, 50), PackedInt32Array(53, 52, 54), PackedInt32Array(52, 48, 54), PackedInt32Array(48, 52, 50), PackedInt32Array(50, 47, 48), PackedInt32Array(56, 55, 49), PackedInt32Array(45, 56, 49), PackedInt32Array(55, 56, 57), PackedInt32Array(59, 58, 55), PackedInt32Array(59, 57, 60), PackedInt32Array(57, 59, 55), PackedInt32Array(62, 61, 60), PackedInt32Array(60, 63, 62), PackedInt32Array(60, 57, 63), PackedInt32Array(51, 65, 64), PackedInt32Array(50, 51, 64), PackedInt32Array(64, 65, 66), PackedInt32Array(69, 68, 67), PackedInt32Array(70, 69, 67), PackedInt32Array(71, 64, 66), PackedInt32Array(71, 66, 70), PackedInt32Array(67, 71, 70), PackedInt32Array(74, 73, 72), PackedInt32Array(77, 76, 75), PackedInt32Array(74, 72, 78), PackedInt32Array(78, 72, 77), PackedInt32Array(78, 77, 75), PackedInt32Array(81, 80, 79), PackedInt32Array(84, 83, 82), PackedInt32Array(84, 82, 81), PackedInt32Array(79, 84, 81), PackedInt32Array(85, 59, 86), PackedInt32Array(58, 59, 85), PackedInt32Array(89, 88, 87), PackedInt32Array(92, 91, 90), PackedInt32Array(93, 89, 87), PackedInt32Array(87, 92, 90), PackedInt32Array(93, 87, 90), PackedInt32Array(96, 95, 94), PackedInt32Array(96, 94, 97), PackedInt32Array(98, 70, 99), PackedInt32Array(66, 99, 70), PackedInt32Array(98, 99, 100), PackedInt32Array(101, 53, 54), PackedInt32Array(100, 53, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(101, 102, 98), PackedInt32Array(101, 98, 100), PackedInt32Array(106, 105, 104), PackedInt32Array(106, 104, 107), PackedInt32Array(107, 109, 108), PackedInt32Array(85, 86, 110), PackedInt32Array(111, 102, 103), PackedInt32Array(85, 110, 103), PackedInt32Array(110, 106, 107), PackedInt32Array(110, 107, 108), PackedInt32Array(110, 111, 103), PackedInt32Array(111, 108, 112), PackedInt32Array(110, 108, 111), PackedInt32Array(115, 114, 113), PackedInt32Array(116, 115, 113), PackedInt32Array(116, 118, 117), PackedInt32Array(113, 118, 116), PackedInt32Array(121, 120, 119), PackedInt32Array(122, 121, 119), PackedInt32Array(125, 124, 123), PackedInt32Array(122, 119, 125), PackedInt32Array(122, 125, 123), PackedInt32Array(128, 127, 126), PackedInt32Array(128, 126, 129), PackedInt32Array(130, 132, 131), PackedInt32Array(134, 133, 132), PackedInt32Array(134, 132, 130), PackedInt32Array(137, 136, 135), PackedInt32Array(138, 137, 135), PackedInt32Array(138, 135, 139), PackedInt32Array(141, 140, 138), PackedInt32Array(142, 141, 138), PackedInt32Array(142, 138, 139), PackedInt32Array(142, 139, 143), PackedInt32Array(142, 67, 68), PackedInt32Array(143, 67, 142), PackedInt32Array(144, 104, 105), PackedInt32Array(144, 105, 145), PackedInt32Array(61, 144, 145), PackedInt32Array(147, 146, 144), PackedInt32Array(62, 147, 144), PackedInt32Array(61, 62, 144), PackedInt32Array(112, 138, 140), PackedInt32Array(111, 112, 140), PackedInt32Array(150, 149, 148), PackedInt32Array(153, 152, 151), PackedInt32Array(150, 148, 153), PackedInt32Array(151, 150, 153), PackedInt32Array(156, 155, 154), PackedInt32Array(157, 156, 154), PackedInt32Array(159, 158, 146), PackedInt32Array(147, 160, 159), PackedInt32Array(146, 147, 159), PackedInt32Array(161, 108, 109), PackedInt32Array(163, 162, 161), PackedInt32Array(161, 109, 164), PackedInt32Array(164, 166, 165), PackedInt32Array(165, 163, 161), PackedInt32Array(165, 161, 164), PackedInt32Array(166, 159, 165), PackedInt32Array(158, 159, 166), PackedInt32Array(169, 168, 167), PackedInt32Array(172, 171, 170), PackedInt32Array(169, 167, 173), PackedInt32Array(176, 175, 174), PackedInt32Array(172, 170, 176), PackedInt32Array(176, 177, 172), PackedInt32Array(177, 176, 174), PackedInt32Array(178, 177, 174), PackedInt32Array(173, 178, 174), PackedInt32Array(174, 169, 173), PackedInt32Array(181, 180, 179), PackedInt32Array(182, 184, 183), PackedInt32Array(187, 186, 185), PackedInt32Array(188, 187, 185), PackedInt32Array(191, 190, 189), PackedInt32Array(192, 191, 189), PackedInt32Array(193, 163, 194), PackedInt32Array(162, 163, 193), PackedInt32Array(195, 135, 136), PackedInt32Array(196, 193, 194), PackedInt32Array(136, 196, 195), PackedInt32Array(193, 196, 136), PackedInt32Array(195, 139, 135)]
geometry_parsed_geometry_type = 1
cell_size = 0.2
agent_radius = 0.1
region_merge_size = 5.0
vertices_per_polygon = 3.0

[sub_resource type="BoxShape3D" id="BoxShape3D_sgkqy"]
size = Vector3(47, 2, 54)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ib2f7"]
albedo_color = Color(0.1, 0.1, 0.1, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_yl8hx"]
material = SubResource("StandardMaterial3D_ib2f7")
size = Vector2(100, 100)

[sub_resource type="Resource" id="Resource_g8jmb"]
script = ExtResource("2_ywm6p")
enemies = {
ExtResource("3_s3gsa"): 1
}
crates = 0

[node name="arena" type="Node3D"]

[node name="spawn_area" type="Area3D" parent="."]
monitoring = false
monitorable = false

[node name="collision_shape_3d" type="CollisionShape3D" parent="spawn_area"]
shape = SubResource("CylinderShape3D_xyfmq")

[node name="nav_region" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_8rbwc")

[node name="floor" type="StaticBody3D" parent="nav_region"]

[node name="collision_shape_3d" type="CollisionShape3D" parent="nav_region/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.1, 0)
shape = SubResource("BoxShape3D_sgkqy")

[node name="mesh_instance_3d" type="MeshInstance3D" parent="nav_region/floor"]
mesh = SubResource("PlaneMesh_yl8hx")

[node name="fmj_level_mesh" parent="nav_region" instance=ExtResource("1_mdv7l")]

[node name="wave_controller" type="Node" parent="."]
script = ExtResource("1_8vdcl")
predefined_waves = Array[ExtResource("2_ywm6p")]([SubResource("Resource_g8jmb")])

[editable path="nav_region/fmj_level_mesh"]
